# creating the network between them
docker network create server-classifier-network

# build and run the main server
cd server_side
docker build -t main_server__v2.1 .
docker run -d --network server-classifier-network --name main_server_container__v2.1 main_server__v2.1
cd ..


# build and run the cls server
cd classifier_server
docker build -t cls_server__v2.1 .
docker run -d -p 8003:8001 --network server-classifier-network --name cls_server_container__v2.1 cls_server__v2.1
cd ..


# building the images
cd server_side
docker build -t main_server__v2.1 .
cd ..
cd classifier_server
docker build -t cls_server__v2.1 .
cd ..